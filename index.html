<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ””</text></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>toast-queue</title>
    <style>
      body {
        margin: unset;
        min-height: 100dvh;
        place-content: center;
        justify-items: center;
      }

      * {
        box-sizing: border-box;
      }

      button {
        touch-action: manipulation;
        user-select: none;
        -webkit-user-select: none;
      }

      /* toast-queue customization */
      toast-queue {
        --toast-color: Canvas;

        width: 300px;
        padding: 1rem;
        overflow: visible;
      }

      toast-queue [data-part="group"] {
        gap: .6rem;
      }

      toast-queue [data-part="toast"] {
        color: hsl(from var(--toast-color) h s 15%);
        border: 1px solid var(--toast-color);
        background: hsl(from var(--toast-color) h s 90%);
        box-shadow: 0 12px 12px -8px hsl(from var(--toast-color) h s l / 0.325);
        border-radius: 1rem;
        padding: 1rem;
        gap: .5rem;
      }

      toast-queue [data-part="toast"]:is([data-dragging]) {
        opacity: calc(1 - var(--tq-swipe-distance, 0));
      }

      toast-queue [data-part="content"] {
        align-items: flex-start;
        flex: 1;
        gap: .3rem;
      }

      toast-queue [data-part="close-button"] {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        aspect-ratio: 1;
        border-radius: 100%;
        background-color: unset;
        border: unset;
        align-self: center;
        font-size: 1.4rem;
      }

      toast-queue [data-part="close-button"]:hover {
        background-color: var(--toast-color);
      }

      toast-queue .my-toast {
        background-color: hotpink;
      }
    </style>
  </head>
  <body>
    <main>
      <button data-action="add-toast">ðŸ””</button>
      <select id="toastPlacementMenu" aria-label="Toast placement">
        <option value="top-start">top start</option>
        <option value="top-center">top center</option>
        <option value="top-end">top end</option>
        <option value="bottom-start">bottom start</option>
        <option value="bottom-center">bottom center</option>
        <option value="bottom-end">bottom end</option>
        <option value="center">center</option>
      </select>
    </main>

    <script type="module">
      import ToastQueue from './src/index.js';
      // import './src/presets/minimal.css';
      import './src/presets/stacked.css';

      const toastPlacement = localStorage.getItem('tq-placement') || 'top-center';

      window.toastQueue = new ToastQueue({
        // pauseOnPageIdle: false,
        duration: null,
        activationMode: 'click',
        placement: toastPlacement,
        // template: {
        //   root: `<toast-queue>
        //     <div data-part="menu">
        //       <button type="button" data-command="clear">Clear all</button>
        //     </div>
        //     <ol data-part="group"></ol>
        //   </toast-queue>`,
        // },
      });

      window.setToastPlacement = (value) => {
        toastQueue.placement = value;
        localStorage.setItem('tq-placement', value);
      }

      toastPlacementMenu.value = toastPlacement;
      toastPlacementMenu.addEventListener('change', event => {
        const selectedValue = event.target.value;
        setToastPlacement(selectedValue);
      })

      document.addEventListener('click', event => {
        if (event.target.dataset.action === 'add-toast') {
          // event.preventDefault();

          toastQueue.add(
            // 'Desc...',
            {
              title: 'Title',
              description: Date.now()
            },
            {
            // icon: 'â„¹ï¸',
            // className: 'my-toast',
            // dismissible: false,
            // duration: null,
            // action: {
            //   label: 'Action',
            //   onClick: () => console.log(Date.now())
            // },
          });
          return;
        }
      });
    </script>
  </body>
</html>
